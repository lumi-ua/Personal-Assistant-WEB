{% extends 'base.html' %}
{% block header %}
    {% include 'includes/headerBook.html' %}
{% endblock %}

{% block content %}
    <div class="h-screen py-6">
      <nav class="mb-5 border-b-4" >
        <ul class="flex items-center justify-center gap-3 mb-10">
          <li><a class="text-white px-5 py-2 border-2 border-lip rounded-lg bg-gradient-to-r from-indigo-600 to-indigo-400 hover:bg-gradient-to-l hover:from-indigo-600 hover:to-indigo-400 transition" href="/book_app/contact/" role="button">Add Contact</a></li>
          <li><a class="text-white px-5 py-2 border-2 border-lip rounded-lg bg-gradient-to-r from-indigo-600 to-indigo-400 hover:bg-gradient-to-l hover:from-indigo-600 hover:to-indigo-400 transition" href="/book_app/" role="button"> Go back to the main page </a></li>
          <li><a class="text-white px-5 py-2 border-2 border-lip rounded-lg bg-gradient-to-r from-indigo-600 to-indigo-400 hover:bg-gradient-to-l hover:from-indigo-600 hover:to-indigo-400 transition" href="/book_app/day_to_birthday/" role="button"> Birthday </a></li>
        </ul>
      </nav>

      <h4 class="font-medium leading-tight text-lg text-gray-300 mb-1">Search</h4>

      <form action="{% url 'search_results' %}" method="get">
        <input class="w-full rounded-lg border-lip " name="q" type="text" placeholder="Search...">
      </form>

      <div class="mt-5">
          <div class="card-body">
            <h4 class="font-medium leading-tight text-2xl pb-3 text-gray-300">Contacts Book</h4>
              <table class="min-w-full text-center border shadow">
                <thead class="bg-lip text-gray-300 border-b ">
                    <tr>
                      <th class="text-sm font-medium text-gray-300  px-6 py-4" scope="col">Nicknames</th>
                      <th class="text-sm font-medium text-gray-300  px-6 py-4" scope="col">Phones</th>
<!--                      <th scope="col">Info</th>-->
                      <th class="text-sm font-medium text-gray-300  px-6 py-4" scope="col">Add/Edit contact</th>
                      <th class="text-sm font-medium text-gray-300  px-6 py-4" scope="col">Delete</th>
                    </tr>
                </thead>
                <tbody class="bg-gray-50 text-centre">
                  {% for nickname in page_obj %}
                    <tr class="border-b shadow hover:bg-indigo-100">
                      <td><a  href="/book_app/detail/{{nickname.id}}">{{ nickname.nickname }}</a></td>
                      <td>{{ nickname.phone }}</td>
<!--                      <th><a href="/book_app/info/{{nickname.id}}">Add Info</a></th>-->
                      <td><a class="pointer px-6 py-4 flex items-center justify-center text-green-600" href="/book_app/contact_edit/{{nickname.id}}"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-7 h-7">
                    <path stroke-linecap="round" stroke-linejoin="round" d="M16.862 4.487l1.687-1.688a1.875 1.875 0 112.652 2.652L10.582 16.07a4.5 4.5 0 01-1.897 1.13L6 18l.8-2.685a4.5 4.5 0 011.13-1.897l8.932-8.931zm0 0L19.5 7.125M18 14v4.75A2.25 2.25 0 0115.75 21H5.25A2.25 2.25 0 013 18.75V8.25A2.25 2.25 0 015.25 6H10" />
                  </svg> {{ nickname.nickname }}</a></td>
                      <td><bottom class="pointer px-6 py-4 flex items-center justify-center text-red-600" href="/book_app/delete_all/{{nickname.id}}"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-7 h-7">
                    <path stroke-linecap="round" stroke-linejoin="round" d="M20.25 7.5l-.625 10.632a2.25 2.25 0 01-2.247 2.118H6.622a2.25 2.25 0 01-2.247-2.118L3.75 7.5m6 4.125l2.25 2.25m0 0l2.25 2.25M12 13.875l2.25-2.25M12 13.875l-2.25 2.25M3.375 7.5h17.25c.621 0 1.125-.504 1.125-1.125v-1.5c0-.621-.504-1.125-1.125-1.125H3.375c-.621 0-1.125.504-1.125 1.125v1.5c0 .621.504 1.125 1.125 1.125z" />
                  </svg></bottom></td>
                    </tr>
                  {% endfor %}
                </tbody>
              </table>
            </form>
          </div>
      </div>

      <div class="pagination text-gray-300 mt-3 text-center">
        <span class="step-links">
            {% if page_obj.has_previous %}
                <a href="?page=1">&laquo; first</a>
                <a href="?page={{ page_obj.previous_page_number }}">previous</a>
            {% endif %}

            <span class="current">
                Page {{ page_obj.number }} of {{ page_obj.paginator.num_pages }}.
            </span>

            {% if page_obj.has_next %}
                <a href="?page={{ page_obj.next_page_number }}">next</a>
                <a href="?page={{ page_obj.paginator.num_pages }}">last &raquo;</a>
            {% endif %}
        </span>
      </div>
      
    </div>
{% endblock %}